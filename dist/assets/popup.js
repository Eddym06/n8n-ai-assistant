import{c as x,R as t,r,m as i}from"./tailwind.js";import{m as w}from"./mo.umd.js";function E(){const[l,m]=r.useState("openai"),[c,u]=r.useState(""),[p,f]=r.useState(!1),s=t.useRef(null);r.useEffect(()=>{const e=document.createElement("style");e.textContent=`
      @keyframes enaFluid {
        0% { background-position: 0% 50%, 100% 50%, 50% 0%; }
        50% { background-position: 100% 50%, 0% 50%, 50% 100%; }
        100% { background-position: 0% 50%, 100% 50%, 50% 0%; }
      }
      .ena-bg-fluid {
        position: fixed; inset: 0; z-index: -1; opacity: 0.9;
        background-image:
          radial-gradient(60% 60% at 10% 10%, rgba(16,185,129,0.35) 0%, transparent 60%),
          radial-gradient(50% 50% at 90% 20%, rgba(59,130,246,0.35) 0%, transparent 60%),
          radial-gradient(70% 70% at 50% 90%, rgba(236,72,153,0.28) 0%, transparent 60%);
        background-size: 200% 200%, 200% 200%, 200% 200%;
        background-repeat: no-repeat;
        animation: enaFluid 18s ease-in-out infinite;
        filter: blur(32px) saturate(1.1);
      }
    `,document.head.appendChild(e);const a=document.createElement("div");return a.className="ena-bg-fluid",document.body.appendChild(a),()=>{a.remove(),e.remove()}},[]),r.useEffect(()=>{const e=s.current;if(!e)return;const a=d=>{const n=e.getBoundingClientRect(),v=(d.clientY-n.top-n.height/2)/n.height,y=(d.clientX-n.left-n.width/2)/n.width;e.style.transform=`perspective(800px) rotateX(${(-v*6).toFixed(2)}deg) rotateY(${(y*6).toFixed(2)}deg)`},o=()=>{e.style.transform="none"};return e.addEventListener("mousemove",a),e.addEventListener("mouseleave",o),()=>{e.removeEventListener("mousemove",a),e.removeEventListener("mouseleave",o)}},[s.current]),r.useEffect(()=>{chrome.storage.sync.get(["llmProvider","model","offlineMode"],e=>{e.llmProvider&&m(e.llmProvider),e.model&&u(e.model),typeof e.offlineMode=="boolean"&&f(e.offlineMode)})},[]);const g=()=>{try{chrome.runtime.openOptionsPage()}catch{}},h=async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(e!=null&&e.id))return;if(!await chrome.tabs.sendMessage(e.id,{type:"ENA_MOUNT"}).catch(()=>null)){try{await chrome.scripting.insertCSS({target:{tabId:e.id},files:["assets/content.css"]})}catch{}try{await chrome.scripting.executeScript({target:{tabId:e.id},files:["assets/content.js"]})}catch{}}const o=document.body.getBoundingClientRect();new w.Burst({left:o.width-40,top:o.height-40,radius:{10:40},count:8,children:{fill:["#10b981","#34d399","#a7f3d0"],radius:{3:0},duration:600}}).play()}catch{}},b=async()=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(e!=null&&e.id))return;await chrome.tabs.sendMessage(e.id,{type:"ENA_OPEN_CHAT"}).catch(()=>{})}catch{}};return t.createElement("div",{className:"relative p-0 w-[390px] text-sm overflow-hidden"},t.createElement("div",{className:"ena-bg-fluid"}),t.createElement(i.div,{ref:s,initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:280,damping:22},className:"relative m-3 rounded-2xl border border-white/40 shadow-[0_8px_30px_rgb(0,0,0,0.08)] bg-white/70 backdrop-blur-xl p-5"},t.createElement("div",{className:"flex items-center justify-between mb-3"},t.createElement("h1",{className:"text-lg font-semibold"},"Enhanced n8n AI Assistant"),t.createElement("div",{className:"text-[11px] px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-700 border border-emerald-500/20"},l,c?` · ${c}`:"",p?" · offline":"")),t.createElement("div",{className:"grid grid-cols-3 gap-3 mb-3"},t.createElement(i.button,{whileTap:{scale:.97},whileHover:{scale:1.03},onClick:h,className:"py-3 rounded-xl bg-gradient-to-br from-zinc-200 to-zinc-300 hover:from-zinc-300 hover:to-zinc-200 text-zinc-800 shadow-sm"},"Activar aquí"),t.createElement(i.button,{whileTap:{scale:.97},whileHover:{scale:1.03},onClick:g,className:"py-3 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 text-white shadow-sm"},"Configuración"),t.createElement(i.button,{whileTap:{scale:.97},whileHover:{scale:1.03},onClick:b,className:"py-3 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 text-white shadow-sm"},"Iniciar chat")),t.createElement("div",{className:"text-[11px] text-zinc-500"},"Ajustes avanzados en Opciones. Este popup ofrece acceso rápido con animaciones.")))}const N=document.getElementById("root");x(N).render(t.createElement(E,null));
