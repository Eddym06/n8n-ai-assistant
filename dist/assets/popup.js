import{c as e}from"./client-JX_TySNI.js";import{R as t,r as a,m as s}from"./vendor-ui-BkB1QKqN.js";const n="http://localhost:3000";function l(){const[e,l]=a.useState("checking..."),[r,c]=a.useState("OpenAI"),[i,o]=a.useState("gpt-4"),[m,d]=a.useState(!1),[p,g]=a.useState(!1),[u,x]=a.useState({workflows:0,queries:0,uptime:"0s",connections:0,cacheSize:0}),[E,b]=a.useState("main"),[y,N]=a.useState(!1),[f,v]=a.useState(!1),[h,w]=a.useState([]);a.useRef(null),a.useEffect(()=>{O(),S(),T();const e=setInterval(()=>{O(),S()},5e3);return()=>{clearInterval(e)}},[]);const O=async()=>{try{const e=await fetch(`${n}/api/health`);if(e.ok){const t=await e.json();l(t.status||"connected"),c(t.provider||"OpenAI"),o(t.model||"gpt-4"),d(t.offline||!1),g(!0)}else l("Error"),g(!1)}catch(e){l("Offline"),g(!1)}},S=async()=>{try{const e=await fetch(`${n}/api/analytics/stats`);if(e.ok){const t=await e.json();x(t)}}catch(e){}},T=async()=>{try{const e=await fetch(`${n}/api/templates`);if(e.ok){const t=await e.json();w(t.slice(0,5))}}catch(e){}},k=async(e,t={})=>{try{const a=await chrome.tabs.query({active:!0,currentWindow:!0});a[0]&&await chrome.tabs.sendMessage(a[0].id,{type:e,...t})}catch(a){}};return t.createElement("div",{className:"w-80 bg-white"},t.createElement("div",{className:"p-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white"},t.createElement("h1",{className:"text-lg font-semibold"},"n8n AI Assistant"),t.createElement("p",{className:"text-sm opacity-90"},"Enterprise Edition v4.0")),t.createElement("div",{className:"p-3"},t.createElement("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement("div",{className:"w-2 h-2 rounded-full "+(p?"bg-green-500":"bg-red-500")}),t.createElement("span",{className:"text-sm font-medium"},r),i&&t.createElement("span",{className:"text-xs text-gray-500"},"(",i,")"),m&&t.createElement("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded"},"Offline"),f&&t.createElement("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded"},"Sim")),t.createElement("div",{className:"text-xs text-gray-500"},p?"Connected":"Offline"))),t.createElement("div",{className:"px-3"},t.createElement("div",{className:"flex border-b"},[{id:"main",label:"🏠 Principal"},{id:"analytics",label:"📊 Analytics"},{id:"templates",label:"📋 Templates"}].map(e=>t.createElement("button",{key:e.id,onClick:()=>b(e.id),className:"px-3 py-2 text-sm font-medium transition-colors "+(E===e.id?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700")},e.label)))),t.createElement("div",{className:"p-3"},"main"===E&&t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"grid grid-cols-3 gap-2"},t.createElement(s.button,{whileTap:{scale:.95},onClick:()=>{y?(N(!1),k("VOICE_CONTROL",{action:"stop"})):(N(!0),k("VOICE_CONTROL",{action:"start"}))},className:"p-2 rounded-lg font-medium text-sm transition-colors "+(y?"bg-red-500 text-white":"bg-purple-100 text-purple-700 hover:bg-purple-200")},y?"🛑":"🎤"),t.createElement(s.button,{whileTap:{scale:.95},onClick:()=>{const e=!f;v(e),k("SIMULATION_MODE",{enabled:e})},className:"p-2 rounded-lg font-medium text-sm transition-colors "+(f?"bg-purple-500 text-white":"bg-purple-100 text-purple-700 hover:bg-purple-200")},"⚡"),t.createElement(s.button,{whileTap:{scale:.95},onClick:async()=>{try{(await fetch(`${n}/api/simulation/run`,{method:"POST"})).ok&&k("SIMULATION_RUN")}catch(e){}},className:"p-2 bg-indigo-100 text-indigo-700 hover:bg-indigo-200 rounded-lg font-medium text-sm transition-colors"},"🧪")),t.createElement("div",{className:"grid grid-cols-3 gap-2"},t.createElement(s.button,{whileTap:{scale:.95},onClick:()=>{k("EXPORT_GITHUB")},className:"p-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium text-sm transition-colors"},"📤 Export"),t.createElement(s.button,{whileTap:{scale:.95},className:"p-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium text-sm transition-colors"},"📥 Import"),t.createElement(s.button,{whileTap:{scale:.95},className:"p-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium text-sm transition-colors"},"🔄 Sync"))),"analytics"===E&&t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-3 border"},t.createElement("h3",{className:"text-sm font-semibold mb-2 text-gray-800"},"Estadísticas en Tiempo Real"),t.createElement("div",{className:"grid grid-cols-2 gap-3 text-xs"},t.createElement("div",null,t.createElement("span",{className:"text-gray-600"},"Workflows"),t.createElement("div",{className:"font-semibold text-blue-600"},u.workflows)),t.createElement("div",null,t.createElement("span",{className:"text-gray-600"},"Consultas"),t.createElement("div",{className:"font-semibold text-green-600"},u.queries)),t.createElement("div",null,t.createElement("span",{className:"text-gray-600"},"Uptime"),t.createElement("div",{className:"font-semibold text-purple-600"},u.uptime)),t.createElement("div",null,t.createElement("span",{className:"text-gray-600"},"Cache"),t.createElement("div",{className:"font-semibold text-orange-600"},u.cacheSize))))),"templates"===E&&t.createElement("div",{className:"space-y-2"},t.createElement("h3",{className:"text-sm font-semibold text-gray-800"},"Templates Rápidos"),h.map((e,a)=>t.createElement(s.div,{key:a,whileTap:{scale:.98},onClick:()=>(e=>{k("LOAD_TEMPLATE",{workflowJSON:JSON.stringify(e.workflow||{}),name:e.name})})(e),className:"p-2 bg-gray-50 hover:bg-gray-100 rounded-lg border cursor-pointer transition-colors"},t.createElement("div",{className:"text-xs font-medium"},e.name),t.createElement("div",{className:"text-xs text-gray-500"},e.description),t.createElement("div",{className:"text-xs text-blue-600 mt-1"},e.category," • ",e.nodes," nodes"))))),t.createElement("div",{className:"p-3 border-t bg-gray-50"},t.createElement("div",{className:"text-xs text-gray-500 text-center"},"© 2024 n8n AI Assistant Enterprise")))}e(document.getElementById("root")).render(t.createElement(l,null));
